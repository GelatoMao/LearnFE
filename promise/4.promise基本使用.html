<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //1.创建一个新的promise对象 里面传一个回调函数 黄色括号里面的称为执行器函数 执行异步操作 注意Promise里面的函数是同步回调
      const p = new Promise((resolve, reject) => {
        //2.执行异步操作任务
        setTimeout(() => {
          const time = Date.now() //如果当前时间是偶数就代表成功，否则失败
          //3.1成功调用resolve(value)
          if (time % 2 == 0) {
            resolve("成功的数据" + time)
          } else {
            //3.2失败调用reject(reason)
            reject("失败的数据")
          }
        }, 1000)
      })

      p.then(
        (value) => {
          //接收得到的成功的value数据  onResolved
          console.log("成功的回调", value)
        },
        (reason) => {
          //接收得到的失败的reason数据   onRejected
          console.log("失败的回调", reason)
        }
      )
    </script>
  </body>
</html>
