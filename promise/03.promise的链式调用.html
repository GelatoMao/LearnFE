<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //网络请求： aaa->自己处理(10行)
      //处理：aaa111->自己处理
      //处理：aaa111222->自己处理

      new Promise((resolve, reject) => {
        setTimeout(() => {
          resolve("aaa")
        }, 1000)
      })
        .then((res) => {
          //1.自己处理10行代码
          console.log(res, "第一层的10行处理代码")
          //2.对结果进行第一次处理  但是注意在这个大括号里面并没有进行异步操作，目的是拿到resolve后，调用resolve并对结果进行相应的处理
          return new Promise((resolve) => {
            resolve(res + "111")
          })
        })
        .then((res) => {
          console.log(res, "第二层的10行处理代码")
          return new Promise((resolve) => {
            resolve(res + "222")
          })
        })
        .then((res) => {
          console.log(res, "第三层的10行处理代码")
        })

      //简写方式
      new Promise((resolve, reject) => {
        setTimeout(() => {
          resolve("aaa")
        }, 1000)
      })
        .then((res) => {
          //1.自己处理10行代码
          console.log(res, "第一层的10行处理代码")
          //2.对结果进行第一次处理  但是注意在这个大括号里面并没有进行异步操作，目的是拿到resolve后，调用resolve并对结果进行相应的处理
          return Promise.resolve(res + "111")
        })
        .then((res) => {
          console.log(res, "第二层的10行处理代码")
          return Promise.resolve(res + "222")
        })
        .then((res) => {
          console.log(res, "第三层的10行处理代码")
        })

      //省略掉Promise.resolve
      new Promise((resolve, reject) => {
        setTimeout(() => {
          resolve("aaa")
        }, 1000)
      })
        .then((res) => {
          //1.自己处理10行代码
          console.log(res, "第一层的10行处理代码")
          //2.对结果进行第一次处理  但是注意在这个大括号里面并没有进行异步操作，目的是拿到resolve后，调用resolve并对结果进行相应的处理
          return res + "111"
        })
        .then((res) => {
          console.log(res, "第二层的10行处理代码")
          return res + "222"
        })
        .then((res) => {
          console.log(res, "第三层的10行处理代码")
        })
    </script>
  </body>
</html>
